# ุดุจูโุณุงุฒ ุชุนุงูู ุฑุงูุฒูุงู ฺูุฏุฏุณุช (Multi-Armed Bandit)

ุงู ูพุฑูฺู ฺฉ ุดุจูโุณุงุฒ ุชุนุงููุ ุขููุฒุด ู ูุงุจู ุฌุงุณุงุฒ (Embeddable) ุจุฑุง ููุงุด ู ููุงุณูโ ุงูฺฏูุฑุชูโูุง ูุฎุชูู ูุณุฆููโ ุฑุงูุฒูุงู ฺูุฏุฏุณุช (Multi-Armed Bandit) ุงุณุช. ุงู ุดุจูโุณุงุฒ ุจุง ุงุณุชูุงุฏู ุงุฒ ุฌุงูุงุงุณฺฉุฑูพุช ุฎุงูุต (ES6 Modules)ุ ฺฉุชุงุจุฎุงููโ Chart.js ู CSS ูุฏุฑู ุณุงุฎุชู ุดุฏู ุงุณุช ู ูุฏู ุขู ุงุฑุงุฆูโ ุฏุฑฺฉ ุดููุฏ ุงุฒ ูุญููโ ุนููฺฉุฑุฏุ ููุงุท ููุช ู ุถุนู ูุฑ ุงุณุชุฑุงุชฺ ุฏุฑ ูุญุทโูุง ฺฏููุงฺฏูู ุงุณุช.



## โจ ูฺฺฏโูุง ฺฉูุฏ

- **ููุชูุฑ ูุงฺููุงุฑ:** ูุนูุงุฑ ูพุฑูฺู ูุจุชู ุจุฑ ฺฉูุงุณโูุง ู ูุงฺููโูุง ุฌุฏุงฺฏุงูู ุจุฑุง ูุฏุฑุช UIุ ููุทู ุดุจูโุณุงุฒุ ุงูฺฏูุฑุชูโูุง ู ูุญุท ุงุณุช.
- **ูพฺฉุฑุจูุฏ-ูุญูุฑ:** ุชูุงู ุณูุงุฑููุง ุฏุฑ ฺฉ ูุงู ูุฑฺฉุฒ (`scenario-config.js`) ุชุนุฑู ูโุดููุฏ ฺฉู ุงู ุงูุฑ ุงุถุงูู ฺฉุฑุฏู ุณูุงุฑููุง ุฌุฏุฏ ุฑุง ุจุณุงุฑ ุขุณุงู ูโฺฉูุฏ.
- **ุงููุงุน ุงูฺฏูุฑุชูโูุง:** ุดุงูู ูพุงุฏูโุณุงุฒ ุงูฺฏูุฑุชูโูุง ฺฉูุงุณฺฉ ู ูพุดุฑูุชู:
  - Random (ุชุตุงุฏู)
  - Greedy (ุญุฑุตุงูู)
  - Epsilon-Greedy (ุงูพุณููู-ุญุฑุต)
  - Decaying Epsilon-Greedy (ุงูพุณููู-ุญุฑุต ฺฉุงููุฏู)
  - UCB1 (ุญุฏ ุจุงูุง ุงุทููุงู)
  - Thompson Sampling (ูููููโฺฏุฑ ุชุงููพุณูู)
- **ูุญุทโูุง ฺุงูุด:** ูุงุจูุช ุดุจูโุณุงุฒ ุฏุฑ ูุญุทโูุง ูุฎุชูู ุจุฑุง ุชุณุช ููุงููุช ุงูฺฏูุฑุชูโูุง:
  - **Stationary:** ูุญุท ุซุงุจุช ุจุง ุงุญุชูุงู ุจุฑุฏ ูุดุฎุต.
  - **Non-Stationary:** ูุญุท ฺฉู ุฏุฑ ูููโ ุฑุงูุ ุจูุชุฑู ูุงุดู ุจู ุจุฏุชุฑู ูุงุดู ุชุจุฏู ูโุดูุฏ.
  - **Restless Bandits:** ุงุญุชูุงู ุจุฑุฏ ูุงุดูโูุง ฺฉู ุงูุชุฎุงุจ ููโุดููุฏุ ุจู ุตูุฑุช ุชุตุงุฏู ุชุบุฑ ูโฺฉูุฏ.
  - **ู ุณูุงุฑููุง ุฎุงุต ุฏฺฏุฑ...**
- **ุญุงูุชโูุง ุชุญูู:**
  - **Single Run:** ุงุฌุฑุง ุงููุดู ฺฉ ุงูฺฏูุฑุชู ุฎุงุต.
  - **Compare All:** ุงุฌุฑุง ุชูุงู ุงูฺฏูุฑุชูโูุง ู ููุงุณูโ ุนููฺฉุฑุฏ ุขูโูุง ุฑู ฺฉ ูููุฏุงุฑ.
  - **Monte Carlo:** ุงุฌุฑุง ุตุฏูุง ุจุงุฑูโ ุชูุงู ุงูฺฏูุฑุชูโูุง ุจุฑุง ููุงุด ูุงูฺฏู ุนููฺฉุฑุฏ ูุงูุน ู ููุงุฑูุง ุฎุทุง (Error Bands).
- **ุจุงุฒุฎูุฑุฏ ุจุตุฑ ููุดููุฏ:**
  - ููุงุด ุจุตุฑ ูุญููโ "ุชูฺฉุฑ" ุงูฺฏูุฑุชูโูุง **UCB1** (ููุงุด ูพุงุฏุงุด ุชุฎูู ู ุถุฑุจ ุงฺฉุชุดุงู) ู **Thompson Sampling** (ููุงุด ุชูุฒุน ุงุญุชูุงู ุจุชุง).
- **Playground:** ฺฉ ูุญุท ฺฉุงูู ุจุง ุชูุงู ฺฉูุชุฑูโูุง ุจุฑุง ุชุณุช ุขุฒุงุฏุงูู ู ุชูุธู ุฏูุฎูุงู ุงุญุชูุงูุงุช ุจุฑุฏ ูุงุดูโูุง.

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

ูพุฑูฺู ุจู ฺฏูููโุง ุทุฑุงุญ ุดุฏู ฺฉู ููุทู ุงุฒ ููุงุด ฺฉุงููุงู ุฌุฏุง ุจุงุดุฏ.

```
/
โโโ Agents.js               # ูพุงุฏูโุณุงุฒ ุชูุงู ุงูฺฏูุฑุชูโูุง (ุนุงููโูุง)
โโโ ChartManager.js         # ูุฏุฑุช ุชูุงู ุนููุงุช ูุฑุจูุท ุจู ูููุฏุงุฑูุง (Chart.js)
โโโ constants.js            # ุฏุงุฏูโูุง ุซุงุจุช ูุงููุฏ ุฑูฺฏโูุง ู ูุณุช ุงูฺฏูุฑุชูโูุง
โโโ Environment.js          # ููุทู ูุญุทโูุง ูุฎุชูู (ุซุงุจุชุ ูุชุบุฑ ู ...)
โโโ UIManager.js            # ูุณุฆูู ุณุงุฎุช HTML ู ูุฏุฑุช ุชูุงู ุนูุงุตุฑ DOM
โโโ SimulationRunner.js     # ุงุฌุฑุง ููุทู ุณูฺฏู ุชุญููโูุง (Compare All, Monte Carlo)
โโโ simulator.js            # ฺฉูุงุณ ุงุตู ู ููุงููฺฏโฺฉููุฏู ูุฑฺฉุฒ ุดุจูโุณุงุฒ
|
โโโ scenario-config.js      # ูููโุชุฑู ูุงู: "ูุบุฒ" ูพุฑูฺู ู ูุญู ุชุนุฑู ุชูุงู ุณูุงุฑููุง
โโโ scenario-loader.js      # ุงุณฺฉุฑูพุช ุณุจฺฉ ุจุฑุง ูพุฏุง ฺฉุฑุฏู placeholderูุง ู ุงุฌุฑุง ุดุจูโุณุงุฒ
|
โโโ playground.html         # ูุงู ููููู ุจุฑุง ุงุฌุฑุง ุณูุงุฑู Playground
โโโ scenario-1.html         # ูุงู ููููู ุจุฑุง ุงุฌุฑุง ุณูุงุฑู ุดูุงุฑู ฑ
โโโ style.css               # ุชูุงู ุงุณุชุงูโูุง ูพุฑูฺู
โโโ README.md               # (ููู ูุงู)
```

## ๐ ุฑูุด ุงุฌุฑุง

ุงู ูพุฑูฺู ุจู ูฺ ุงุจุฒุงุฑ Build ุง Dependency ุฎุงุต ูุงุฒ ูุฏุงุฑุฏ.

1.  ุงู ุฑูพุงุฒุชูุฑ ุฑุง Clone ฺฉูุฏ.
2.  ฺฉ ุงุฒ ูุงูโูุง `playground.html` ุง `scenario-X.html` ุฑุง ูุณุชููุงู ุฏุฑ ูุฑูุฑฺฏุฑ ุฎูุฏ ุจุงุฒ ฺฉูุฏ.
3.  ุจุฑุง ุชูุณุนู ู ุฌููฺฏุฑ ุงุฒ ูุดฺฉูุงุช ุงุญุชูุงู CORSุ ุจูุชุฑ ุงุณุช ูพุฑูฺู ุฑุง ุงุฒ ุทุฑู ฺฉ ุณุฑูุฑ ูุญู (ูุงููุฏ ุงูุฒููู Live Server ุฏุฑ VS Code) ุงุฌุฑุง ฺฉูุฏ.

---

## ๐ง **ฺฺฏููู ฺฉ ุณูุงุฑู ุฌุฏุฏ ุงุถุงูู ฺฉููุ**

ุงุถุงูู ฺฉุฑุฏู ฺฉ ุณูุงุฑู ฺฉุงููุงู ุฌุฏุฏ ุจู ุงู ูพุฑูฺู ุชููุง ุฏุฑ **ุฏู ฺฏุงู ุณุงุฏู** ุงูุฌุงู ูโุดูุฏุ ุฒุฑุง ูุนูุงุฑ ูพุฑูฺู ฺฉุงููุงู ูพฺฉุฑุจูุฏ-ูุญูุฑ ุงุณุช.

### ฺฏุงู ุงูู: ุชุนุฑู ุณูุงุฑู ุฏุฑ `scenario-config.js`

ุงู ูููโุชุฑู ูุฑุญูู ุงุณุช. ูุงู `scenario-config.js` ุฑุง ุจุงุฒ ฺฉูุฏ ู ฺฉ ุขุจุฌฺฉุช ุฌุฏุฏ ุจู ูุณุช `scenarios` ุงุถุงูู ฺฉูุฏ. ฺฉูุฏ (Key) ุงู ุขุจุฌฺฉุชุ ุดูุงุณู ููุญุตุฑ ุจู ูุฑุฏ ุณูุงุฑู ุดูุง ุฎูุงูุฏ ุจูุฏ.

ุฏุฑ ุงูุฌุง ฺฉ ููููู ฺฉุงูู ุจุง ุชูุงู ูพุงุฑุงูุชุฑูุง ููฺฉู ุขูุฑุฏู ุดุฏู ุงุณุช:

```javascript
// scenario-config.js

export const scenarios = {
    // ... ุณูุงุฑููุง ููุฌูุฏ

    // ุณูุงุฑู ุฌุฏุฏ ุดูุง ุฏุฑ ุงูุฌุง ุงุถุงูู ูโุดูุฏ
    'my-new-scenario': {
        // ูุงู ฺฉู ุฏุฑ ุจุงูุง ุดุจูโุณุงุฒ ููุงุด ุฏุงุฏู ูโุดูุฏ
        name: 'ุณูุงุฑู ุดฺฉุงุฑ ฺฏูุฌ ูพุดุฑูุชู',

        // ุชูุถุญ ฺฉู ุฏุฑ ุฒุฑ ูุงู ุณูุงุฑู ูโุขุฏ
        description: 'ุฏุฑ ุงู ูุญุทุ ุณู ูุงุดู ูพุงุฏุงุด ฺฉู ูู ูุงุจู ุงุนุชูุงุฏ ุฏุงุฑูุฏุ ุงูุง ฺฉ ูุงุดู ุงุญุชูุงู ุจุฑุฏ ุจุณุงุฑ ูพุงู ุฏุงุฑุฏ ูู ุฏุฑ ุตูุฑุช ุจุฑุฏุ ูพุงุฏุงุด ููฺฏูุช ูโุฏูุฏ. ฺฉุฏุงู ุงูฺฏูุฑุชู ุขู ุฑุง ูพุฏุง ูโฺฉูุฏุ',
        
        // ุญุงูุช ุงุฌุฑุง: 'single-agent', 'compare-all', 'monte-carlo', 'manual'
        mode: 'monte-carlo',

        // (ููุท ุจุฑุง ุญุงูุช single-agent) ฺฉูุฏ ุงูฺฏูุฑุชู ฺฉู ุจุงุฏ ุงุฌุฑุง ุดูุฏ
        agentToRun: 'ucb1',

        // ุชุนุฏุงุฏ ฺฉู ุฏูุฑูุง ุดุจูโุณุงุฒ
        maxRounds: 700,

        // (ููุท ุจุฑุง ุญุงูุช monte-carlo) ุชุนุฏุงุฏ ุชฺฉุฑุงุฑ ุดุจูโุณุงุฒ
        numMonteCarloRuns: 200,

        // ุดูุงุณู ูุญุท ุจุฑุง ูุนุงู ฺฉุฑุฏู ููุทู ุฎุงุต ุฏุฑ Environment.js (ูุซูุงู 'C' ุจุฑุง Restless)
        environmentScenario: 'A', // 'A' ุนู ฺฉ ูุญุท ุงุณุชุงูุฏุงุฑุฏ ู ุจุฏูู ุชุบุฑุงุช ุฏูุงูฺฉ ุฎุงุต

        // **ูููโุชุฑู ุจุฎุด:** ุชุนุฑู ุฏูู ูุงุดูโูุง
        // ุงู ุจุฎุด ุจุฑ ุชูุงู ุชูุธูุงุช ุฏฺฏุฑ ุงูููุช ุฏุงุฑุฏ
        machineConfig: [
            { prob: 0.6, reward: 2 },  // ูุงุดู ฑ
            { prob: 0.5, reward: 2 },  // ูุงุดู ฒ
            { prob: 0.02, reward: 80 }, // ูุงุดู ณ: ฺฏูุฌ!
            { prob: 0.55, reward: 2 }  // ูุงุดู ด
        ],

        // (ุงุฎุชุงุฑ) ุจุฑุง ูุญุทโูุง ุบุฑุซุงุจุชุ ุงู ฺฉุงููฺฏ ุฏุฑ ูููโ ุฑุงู ุฌุงฺฏุฒู ูโุดูุฏ
        machineConfigAfterChange: [
            { prob: 0.1, reward: 2 },
            { prob: 0.1, reward: 2 },
            { prob: 0.8, reward: 5 }, // ูพุณ ุงุฒ ููู ุฑุงูุ ุงู ูุงุดู ุจูุชุฑู ูโุดูุฏ
            { prob: 0.1, reward: 2 }
        ],

        // ุขุง ฺฉูุชุฑูโูุง ุงูุชุฎุงุจ ุงูฺฏูุฑุชู ู ุณูุงุฑู ููุงุด ุฏุงุฏู ุดููุฏุ
        showControls: false,
        // ุขุง ุงุญุชูุงู ูุงูุน ูุฑ ูุงุดู ุฒุฑ ุขู ููุงุด ุฏุงุฏู ุดูุฏุ
        showProbabilities: true
    }
};
```

### ฺฏุงู ุฏูู: ุณุงุฎุช ูุงู HTML

ฺฉ ูุงู HTML ุฌุฏุฏ (ูุซูุงู `my-scenario.html`) ุจุณุงุฒุฏ ู ฺฉุฏ ุฒุฑ ุฑุง ุฏุฑ ุขู ูุฑุงุฑ ุฏูุฏ.

**ูฺฉุชู ฺฉูุฏ:** `id` ุชฺฏ `<div>` ุจุงุฏ **ุฏููุงู** ุจุง ฺฉูุฏ ฺฉู ุฏุฑ `scenario-config.js` ุชุนุฑู ฺฉุฑุฏูโุงุฏุ ฺฉุณุงู ุจุงุดุฏ (`my-new-scenario`).

```html
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAB Scenario: ุณูุงุฑู ุฌุฏุฏ ูู</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- 
        ุงู ID ุจุงุฏ ุฏููุงู ุจุง ฺฉูุฏ ุชุนุฑู ุดุฏู ุฏุฑ scenario-config.js ูุทุงุจูุช ุฏุงุดุชู ุจุงุดุฏ.
        ุงุณฺฉุฑูพุช scenario-loader.js ุงู ID ุฑุง ูพุฏุง ฺฉุฑุฏู ู ุดุจูโุณุงุฒ ุฑุง ุฏุฑ ุขู ุฑูุฏุฑ ูโฺฉูุฏ.
    -->
    <div id="my-new-scenario"></div>

    <!-- ฺฉุชุงุจุฎุงููโ ูููุฏุงุฑ -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- ุงุณฺฉุฑูพุช ุงุตู ุจุฑุง ุงุฌุฑุง ุดุจูโุณุงุฒ -->
    <script type="module" src="scenario-loader.js"></script>
</body>
</html>
```

**ุชูุงู ุดุฏ!** ุงฺฉููู ุจุง ุจุงุฒ ฺฉุฑุฏู ูุงู `my-scenario.html` ุฏุฑ ูุฑูุฑฺฏุฑุ ุณูุงุฑู ุฌุฏุฏ ุดูุง ุจุง ุชูุธูุงุช ุฏูุฎูุงูุชุงู ุงุฌุฑุง ุฎูุงูุฏ ุดุฏ.